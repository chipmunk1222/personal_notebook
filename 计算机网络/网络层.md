*概述*：
- 网络层作用：将分组从一台主机传到另一台主机，处理路由间的转发和链路间路由选择的功能，简而言之，负责从源主机到目标主机的路由间的最佳路径选择（转发和路径选择）

- 路径选择分为两个模块，分别是数据平面和控制平面，数据平面负责数据包的封装和发送过程；控制平面则负责网络设备的管理和配置，包括路由选择和策略控制等，包括维护路由表等宏观控制
- 数据平面：主要负责实际的数据包转发和处理
- 功能：
	- 数据包转发：根据转发表，将接收到的数据转发到下一个节点
	- 数据包处理：包括数据包处理，过滤，加解密等操作
	- 流量管理：通过流量整形和优先级队列管理流量
- 控制平面：控制平面负责网络的整体控制逻辑和管理任务，通过维护和更新路由信息来指导数据平面的操作。
- 功能：
	- 路由选择：根据网络拓扑和路由协议维护网络
	- 拓扑发现：通过协议交换信息，了解网络拓扑结构
	- 配置和管理：设置和管理网络设备配置，确保网络正常运行

*数据分片*
- 概述：数据分片源于链路层对数据的最大荷载，依据链路层最大传输单元（MTU）将数据包截成多端数据包在路由之间传输
- IP字段分为IP首部和荷载，首部固定为20byte，实际要分段的是荷载
- 偏移量单位取每段数据包大小/8、
- MF标志标识最后一段，用(0/1)标识
- 样例：
	- 若数据报为4000byte，MTU为1500，则每个字段有20byte首部长度
	- 实际要处理的数据包大小为3980byte，每段最大长度为1480byte
	- 每一段偏移量为185（1480/8）
	- 前两段MF为1标识非最后，最后一段以0标识结尾

*网际协议：*
- 概述：互联网通信的基石，负责将数据包从源地址传送到目标地址
- 功能：
	- 地址分配和路由选择：为每个设备分配一个唯一的IP地址，通过路由表和路由算法决定数据包的传输路径
	- 数据包封装和拆封：IP将上层协议的数据封装为数据包，在数据包首部添加源地址和目标地址，接收数据包时将其拆封并返回给上层协议
	- 分片和重组：当数据包超过最大传输单元时，IP将其分为更小的片段传输，接收端将其重组为完整数据包
	- 错误检测和报告：通过首部校验和字段检验数据包的传输错误，若检测到错误，IP协议会报告错误信息
- IPv4：
	- IPv4协议由32位二进制数据构成，如（192.168.1.1），每段0-255(8位)，四段
	- IP地址用来标识并定位主机，
	- IP地址的分配规则采用子网掩码的形式，即一个厂商用具有相同开头的IP地址集进行划分，以此类推，直到分配到每一个用户机，子网掩码即一个网络组中共有的那部分位数
	- CIDR即上述分配方法，是一种灵活的IP地址分配方法如（192.168.1.0/24）前24位表示子网掩码，即(/24子网掩码)，具体子网掩码是将其前24位设为1，其余位设为0
	- 分配地址时，子网掩码是固定不变的，分配范围为到子网掩码不变情况下的最大范围
	- IPv6为IPv4的升级版，共有128bit构成
	- 广播地址：一段数据段最后两位为广播地址（最后一个bit）
*路由选择算法*
- 链路状态(link-state)路由算法
	- 常见实例：Dijkstra算法和Prim算法
	- 每个路由器都维护整个网络拓扑结构，并根据收集到的信息构建全局拓扑图
	- 算法复杂度高，网络开销大，避免出现路由环
- 距离向量(distance-vector)路由算法
	- 每个路由器都维护一张路由表，用来记录到每个网络的最短距离，称为距离向量表
	- 每个路由器都只需存储和处理相邻路由器的距离信息，容易出现路由环