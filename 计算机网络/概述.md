#因特网构成
主机(host)/端系统(end-system)————通信链路(communication link)/分组交换机(packet switch)
- 端系统：使用因特网的设备（包括用户和服务器）
- 通信链路：由光纤、铜线等组成的物理媒介(导引型媒介)，空气，局域网(非导引型媒介)
- 分组交换机(packet switch)：数据传递的中介，包括路由器、链路层交换机（link-layer switch）
- 注：一般来说，路由器为网络与网络进行交换的节点，交换机等设备是网络内节点
- 传输速率(bit/s|bps)：链路间传输数据的速率
- 分组：数据传输过程中以段为单位，并为每段加上一个首部字节，每一段称为一组，端系统通过分组交换资源
- ISP：因特网服务提供商，提供因特网服务的供应商
- 协议：规定在两个或多个通讯实体间的数据交换格式
- 网络边缘：具体用户用户使用的英特网设备，使用接入网连接到边缘路由器
- 网络核心：由互联因特网端系统的分组交换机和链路构成的网状网络

协议：
- TCP(transition control protocol)：传输控制协议，
- IP(Internet Protocol)：网际协议，定义路由和端系统之间的发送接收格式

网络边缘：
- 定义：主机，应用程序等具体面向客户的因特网设备
- 构成：
	- 端系统(主机)：运行的应用程序，如web等
	- 客户/服务器模式：客户端向服务器请求数据，资源
	- 对等(peer-peer)模式：没有专门的服务器，每个主机都是提供商与接收者
- 目标：在端系统之间传递数据
- 握手：在数据传递之前做好准备
- TCP(transmission control protocol)：传输控制协议
	- 可靠、按顺序地传递数据
	- 流量控制：传送方不会淹没接收方
	- 拥塞控制：当网络拥堵时，发送方降低发送速率
	- 服务：HTTP(web)、FTP(文件传送)、telnet(远程登录)、SMTP(email)
- UDP(user datagram protocol)：用户数据报协议
	- 不可靠数据传输，无链接，无流量控制，无拥塞控制
	- 服务：流媒体、远程会议、DNS、internet电话

网络核心：
- 定义：路由器的网状结构。
- 电路交换（预约宽带）：
	- 方式：预留一条专有电路
	- 特点：独享资源，浪费资源，保证性能 （为每个用户预留资源）
	- 电路交换方式：
		- 频分(FDM)：每条通讯独享一个频率段
		- 时分(TDM)：所有通讯按照时间插入推进，用时隙数描述不同时间片段数
	- 使用场景：建立连接时间长，浪费片数较多，不适用于计算机通信
- 分组交换（共享宽带）：
	- 方式：以分组为单位存储、转发，不再将网络资源分为一个个片，传输时使用全部带宽
	- 特点：报文被切分为分组时，会在分组切片上加上分组头部，用于识别分组
	- 单位：
		- 分组每次移动称为一跳(hop)
		- 链路速率R
		- 分组长度L
	- 分组延时：由于分组交换需要每组完整进入后续节点，故存在等待延时L/R s(一次)
	- 排队：如果到达速率>输出速率，分组就会排队等待传输，如果路由器缓存用完了，分组就会被抛弃
	- 转发：将分组从路由器的输入链路转移到输出链路
- 分组交换vs电路交换
	- 同样的网络资源，分组交换允许更多用户使用网络资源(电路交互预留资源造成极大浪费)
	- 分组交换适合于突发式数据传输
	- 分组交换过度使用会导致网络堵塞
- 时延：
	- 定义：节点和节点传输之间所造成的延迟> 时延的类型[[(计算机科学丛书) James F. Kurose_ Keith W. Ross - 计算机网络（原书第7版）_ 自顶向下方法-机械工业出版社 (2018).pdf#page=43&selection=99,0,99,5|(计算机科学丛书) James F. Kurose_ Keith W. Ross - 计算机网络（原书第7版）_ 自顶向下方法-机械工业出版社 (2018), 页面 43]]
		- 节点处理时延（$d_{proc}$）：交换器内部导向的时延
		- 排队时延（$d_{queue}$）：分组等待交换器处理的时延
		- 传输时延（$d_{trans}$）：分组在交换器之间传播完整性等待的时延L/R
		- 传播时延（$d_{prop}$）：在物理媒介中信息传播的时延d/s (物理长度/传输速度)
		- 总时延为四者之和
	- 排队时延和丢包：
		- 流量强度：aL/R，a:分组/s，L:每组数据量(bit)，R:传输速率(bps)
		- 当流量强度>1：输入数据量大于输出数据量，具有排队时延，且会趋向无穷大
		- 丢包：实际设计中具有排队容量，当流量强度>1，数据量超过排队流量后，更多的分组会被丢弃，这个过程被称为丢包
- 吞吐量：
	- 定义：系统间传输的宏观时间，分为瞬时吞吐量和平均吞吐量
	- 平均吞吐量由链路中速率最小的一方决定，该链路被称为瓶颈链路

网络结构：
- 第一层网络结构：由第一层提供商ISP向全球用户提供网络服务
- 第二层网络结构：更小型(区域性)的第二层ISP
- 第三层网络结构：层层递进的网络结构
- 第四层网络结构：引入对等(peer)概念，用网络交换点(IXP)实现不同层级的对等
- 第五层网络结构：在对等的基础上引入第一层内容提供商

因特网自顶向下协议栈：
- 应用层：网络应用（HTTP、FTP、SMTP、DNS），单位：报文(message)
- 传输层：主机之间的数据传输（TCP、UDP），单位：报文段(segment)、TCP/UDP数据报
- 网络层：数据从源主机到路由（IP、路由协议），单位：分组packet
- 链路层：相邻网络节点之间的数据传输（点对点协议PPP、wifi），单位：帧(frame)
- 物理层：在物理媒介上传输数据，单位：位(bit)
- OIS7层网络模型：
- 表示层：数据加密、数据压缩等
- 会话层：数据交换的同步，检查，恢复
